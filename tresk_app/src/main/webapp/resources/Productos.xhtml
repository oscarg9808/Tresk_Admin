<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html" 
		lang="en"> 

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"></meta>
    <meta name="description" content="au theme template"></meta>
    <meta name="author" content="Hau Nguyen"></meta>
    <meta name="keywords" content="au theme template"></meta>

    <!-- Title Page-->
    <title>Productos</title>

    <!-- Fontfaces CSS-->
    <link href="css/font-face.css" rel="stylesheet" media="all"></link>
    <link href="vendor/font-awesome-4.7/css/font-awesome.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/font-awesome-5/css/fontawesome-all.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/mdi-font/css/material-design-iconic-font.min.css" rel="stylesheet" media="all"></link>

    <!-- Bootstrap CSS-->
    <link href="vendor/bootstrap-4.1/bootstrap.min.css" rel="stylesheet" media="all"></link>

    <!-- Vendor CSS-->
    <link href="vendor/animsition/animsition.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/wow/animate.css" rel="stylesheet" media="all"></link>
    <link href="vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/slick/slick.css" rel="stylesheet" media="all"></link>
    <link href="vendor/select2/select2.min.css" rel="stylesheet" media="all"></link>
    <link href="vendor/perfect-scrollbar/perfect-scrollbar.css" rel="stylesheet" media="all"></link>

    <!-- Main CSS-->
    <link href="css/theme.css" rel="stylesheet" media="all"></link>

</head>

<body class="animsition">
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
        <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <a class="logo" href="index.html">
                            <img src="images/icon/Tresklogo.png" alt="CoolAdmin" />
                        </a>
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
            </div>

        </header>
        <!-- END HEADER MOBILE-->

        <!-- MENU SIDEBAR-->
        <aside class="menu-sidebar d-none d-lg-block">
            <div class="logo">
                <a href="PaginaPrincipal.xhtml">
                    <img src="images/icon/Tresklogo.png" alt="CoolAdmin" width="130" height="500"/>
                </a>
            </div>
            <div class="menu-sidebar__content js-scrollbar1">
                <nav class="navbar-sidebar">
                    <ul class="list-unstyled navbar__list">
                        <li class="has-sub">
                            <a class="js-arrow" href="PaginaPrincipal.xhtml">
                                <i class="fa fa-home"></i>Pagina Principal</a>
                        </li>
                        <li>
                            <a href="Categorias.xhtml">
                                <i class="fa fa-folder"></i>Categorias</a>
                        </li>
                        <li>
                            <a href="Usuarios.xhtml">
                                <i class="fa fa-user"></i>Usuarios</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </aside>
        <!-- END MENU SIDEBAR-->

        <!-- PAGE CONTAINER-->
        <div class="page-container">
            <!-- HEADER DESKTOP-->
            <header class="header-desktop">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="header-wrap">
                        	<div class="content">
                         		<h3 class="pb-2 display-5">Productos</h3>
                         	</div>
       					</div>
                    </div>
                </div>
            </header>
            <!-- END HEADER DESKTOP-->

            <!-- MAIN CONTENT-->
            <div class="main-content">
                <div class="section__content section__content--p30">
                    <div class="container-fluid">
                        <div class="col-md-12">
                            <!-- DATA TABLE -->
                                <div class="table-data__tool">
                                    <div class="table-data__tool-right">
                                            <button class="btn btn-success" data-toggle="modal" data-target="#mediumModal">
                                            <i class="fa fa-plus-circle">.</i> Nuevo Producto</button>
                                            <button class="btn btn-warning" data-toggle="modal" data-target="#editarmodal">
                                            <i class="fa fa-pencil-square-o">. </i>Editar Producto</button>
                                    </div>
                                </div>
                                <div class="row m-t-30">
                            	<div class="col-md-12">
                                <div class="table-responsive m-b-40">
                                    <table class="table table-borderless table-data3">
                                        <tbody>
                                      		<h:form>
				                            	<h:dataTable class="table table-data2" value="#{productoControlador.listarP()}" var="prod">
													<h:column>
														<f:facet name="header"> Nombre</f:facet>
														<h:outputText value="#{prod.nombre}"></h:outputText>
													</h:column>
													<h:column>
														<f:facet name="header"> Descripcion</f:facet>
														<h:outputText value="#{prod.descripcion}"></h:outputText>
													</h:column>
													<h:column>
														<f:facet name="header"> Categoria </f:facet>
														<h:outputText value="#{prod.categoria}" ></h:outputText>
													</h:column>													
													<h:column>
														<f:facet name="header"> Precio </f:facet>
														<h:outputText value="#{prod.precio_uni}"></h:outputText>
													</h:column>
													
													<h:column>
														<f:facet name="header"> Imagen</f:facet>
														<img src="#{prod.urlImagen}" width="50" height="50"/>
													</h:column>
													<h:column class="">
						                            	<h:commandButton action="#{productoControlador.eliminar(prod.id)}" value="Eliminar" class="btn btn-danger"/>
				                                   </h:column>
												</h:dataTable>
				                      		</h:form>
				           		 		</tbody>
				  				</table>
				 			</div>
				 			</div>
				 		</div>
			                <!-- END DATA TABLE -->
                            </div>
                        <div class="row">
                            
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <div class="copyright">
                                    <p>Copyright Â© 2019 Aplicaciones Distribuidos UPS <a href="#">Oscar Pizarro, Jose Atariguano</a>.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
<!-- Registro Usuario -->
			<div class="modal fade" id="mediumModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="col-md-6" id="mediumModalLabel">Nuevo Producto</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							</button>
						</div>
						<div class="modal-body">
							<p>
                           		<h:form>                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Nombre</div>
                                    	    <h:inputText  value="#{productoControlador.prod.nombre}" id="nombre" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-user"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                   					<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Descripcion</div>
                                    	    <h:inputText  value="#{productoControlador.prod.descripcion}" id="descripcion" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-user"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Categoria</div>
                                    	     	<h:selectOneMenu class="form-control" value="#{productoControlador.prod.categoria}" >
													<f:selectItems value="#{categoriaControlador.listarCategorias()}" var="categoria" itemValue="#{categoria.id}" itemLabel="#{categoria.nombre}"  />
												</h:selectOneMenu>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-asterisk"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Precio</div>
                                    	    <h:inputText  value="#{productoControlador.prod.precio_uni}" id="precio" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-asterisk"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Imagen</div>
                                    	    <h:inputText  value="#{productoControlador.prod.urlImagen}" id="imagen" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-mail-reply-all"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
										<h:commandButton  action="#{productoControlador.guardar()}" value="Guardar" class="btn btn-primary"/>
									</div>
                                </h:form>
							</p>
						</div>
					</div>
				</div>
			</div>
			<!-- end  Registro Producto -->
			
			
	<!-- Editar Producto -->
			<div class="modal fade" id="editarmodal" tabindex="-1" role="dialog" aria-labelledby="editarmodal" aria-hidden="true">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-header">
							<h5 class="col-md-6" id="mediumModalLabel">Actualizar Prodcuto</h5>
							<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							</button>
						</div>
						<div class="modal-body">
						<h:form>
							<div class="form-group">
								<div class="input-group">
				          			<h:inputText class="form-control-success form-control" type="text" der="Buscar Usuarios" value="#{productoControlador.nombre}" id="prod" />
				        			<h:commandButton class="btn btn-outline-success btn-sm" action="#{productoControlador.Buscarnom()}" value="Buscar" id="bus">
				        				 <f:ajax execute="prod" render="nombre descripcion categoria imagen precio"/>
				        			</h:commandButton>
				        		</div>
				        	</div>
				    	</h:form>
							<p>
                           		<h:form>                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Nombre</div>
                                    	    <h:inputText value="#{productoControlador.prod.nombre}" id="nombre" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-user"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                   					<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Descripcion</div>
                                    	    <h:inputText value="#{productoControlador.prod.descripcion}" id="descripcion" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-user"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                          			<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Categoria</div>
                                    	    <h:inputText value="#{productoControlador.prod.categoria}" id="categoria" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-phone"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                    				<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Imagen</div>
                                    	   <h:inputText value="#{productoControlador.prod.urlImagen}" id="imagen" class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-mail-reply-all"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="form-group">
                                    	<div class="input-group">
                                        	<div class="input-group-addon">Precio</div>
                                    	    <h:inputText value="#{productoControlador.prod.precio_uni}" id="precio"  class="form-control-success form-control"/>
                                            <div class="input-group-addon">
                                            	<i class="fa fa-asterisk"></i>
                                           	</div>
                                     	</div>
                                	</div>
                                	
                                	<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
										<h:commandButton action="#{productoControlador.update()}" value="Actualizar" class="btn btn-primary"/>
									</div>
                                </h:form>
							</p>
						</div>
					</div>
				</div>
			</div>
			<!-- end  Editar Usuario -->
	
	
    </div>

    <!-- Jquery JS-->
    <script src="vendor/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap JS-->
    <script src="vendor/bootstrap-4.1/popper.min.js"></script>
    <script src="vendor/bootstrap-4.1/bootstrap.min.js"></script>
    <!-- Vendor JS       -->
    <script src="vendor/slick/slick.min.js">
    </script>
    <script src="vendor/wow/wow.min.js"></script>
    <script src="vendor/animsition/animsition.min.js"></script>
    <script src="vendor/bootstrap-progressbar/bootstrap-progressbar.min.js">
    </script>
    <script src="vendor/counter-up/jquery.waypoints.min.js"></script>
    <script src="vendor/counter-up/jquery.counterup.min.js">
    </script>
    <script src="vendor/circle-progress/circle-progress.min.js"></script>
    <script src="vendor/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="vendor/chartjs/Chart.bundle.min.js"></script>
    <script src="vendor/select2/select2.min.js">
    </script>

    <!-- Main JS-->
    <script src="js/main.js"></script>

</body>

</html>
<!-- end document-->
